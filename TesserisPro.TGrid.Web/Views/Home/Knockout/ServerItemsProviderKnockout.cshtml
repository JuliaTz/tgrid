@{
    Layout = null;
}

<!DOCTYPE html>

<html>
    <head>
        <meta name="viewport" content="width=device-width" />
        <title>Server items provider Knockout</title>
        <link rel="stylesheet" type="text/css" href="~/Content/Grid.css">
        <link rel="stylesheet" type="text/css" href="~/Content/iframe.css">
   
        <script src="~/Scripts/iframe/jquery-2.0.3.js"></script>
        <script src="~/Scripts/iframe/knockout-3.0.0.js"></script>

        <script src="~/Scripts/iframe/BaseHtmlProvider.js" type="text/javascript"></script>
        <script src="~/Scripts/iframe/KnockoutHtmlProvider.js" type="text/javascript"></script>
        <script src="~/Scripts/iframe/KnockoutFooterViewModel.js" type="text/javascript"></script>
        <script src="~/Scripts/iframe/KnockoutFilterPopupViewModel.js" type="text/javascript"></script>
        <script src="~/Scripts/iframe/KnockoutItemViewModel.js" type="text/javascript"></script>
        <script src="~/Scripts/iframe/options.js" type="text/javascript"></script>
        <script src="~/Scripts/iframe/ItemViewModel.js" type="text/javascript"></script>
        <script src="~/Scripts/iframe/TGrid.js" type="text/javascript"></script>
        <script src="~/Scripts/iframe/TGridBinding.js" type="text/javascript"></script>
        <script src="~/Scripts/iframe/TGridDirective.js" type="text/javascript"></script>
        <script src="~/Scripts/iframe/SortDescriptor.js" type="text/javascript"></script>
        <script src="~/Scripts/iframe/FilterDescriptor.js" type="text/javascript"></script>
        <script src="~/Scripts/iframe/GroupHeaderDescriptor.js" type="text/javascript"></script>
        <script src="~/Scripts/iframe/utils.js" type="text/javascript"></script>
        <script src="~/Scripts/iframe/ServerItemsProvider.js" type="text/javascript"></script>
        <script src="~/Scripts/iframe/tgrid-array-items-provider-min.js" type="text/javascript"></script>

        @*<script src="~/Scripts/iframe/tgrid-array-items-provider-min.js" type="text/javascript"></script>
        <script src="~/Scripts/iframe/tgrid-min.js" type="text/javascript"></script>
        <script src="~/Scripts/iframe/tgrid-knockout-min.js" type="text/javascript"></script>*@
    </head>
    <body>
        <div id="test-knockout" data-bind="tgrid: { provider: itemsProvider, enableGrouping: true }">
            <script type="text/html">
                <column data-g-width="65" data-g-views="mobile,desktop"  data-g-member="Number">
                </column>
                <column data-g-width="100" data-g-views="mobile,desktop" data-g-member="PictureName">
                    <header><span>Picture</span></header>
                    <cell><img width="100px" height='60px' style: "" data-bind="attr: { src: model.url + item.PictureName }"/></cell>
                </column>
                <column data-g-width="70" data-g-views="mobile,desktop" data-g-member="Brand">
                </column>
                <column data-g-width="120" data-g-views="mobile,desktop" data-g-member="Type">
                </column>
                <column data-g-width="100" data-g-views="mobile,desktop" data-g-member="EnginePower">
                    <header>
                        <span>Engine power</span>
                    </header>
                    <cell>
                        <span data-bind="text: item.EnginePower"></span> HP
                    </cell>
                </column>
                <column data-g-width="60" data-g-views="mobile,desktop" data-g-member="Year">
                    <header>
                        <span>1st Reg.</span>
                    </header>
                </column>
                <column data-g-width="120" data-g-views="mobile,desktop" data-g-member="Cabin">
                </column>
            </script>
        </div>
        <script type="text/javascript">
          
            function vm() {
                var self = this;
                self.nameColumnTitle = "First Name";
                self.url = '@Url.Content("~")'.concat("Content/images/picturesForGrid/");
                self.itemsProvider = new TesserisPro.TGrid.ServerItemsProvider('@Url.Content("~/Home/GetItems")', '@Url.Content("~/Home/GetTotalItemsCount")','@Url.Content("~")');
            };

            $(function () {
                ko.applyBindings(new vm());
            });
        </script>
    </body>
</html>
